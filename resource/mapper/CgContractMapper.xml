<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="org.ldxx.dao.CgContractDao">
	<select id="selectCgContractByStatus" resultType="CgContract">
		select a.*,o.om_name,c.cc_name from cg_contract a
			left join mode_status b on a.cg_id =b.mode_id
			left join organization_management o on o.om_id=a.cg_department 
			left join consociation_company c on c.cc_id=a.contract_name_yi 
		where b.status=#{status}
	</select>
	<insert id="addCgContract" parameterType="CgContract">
		insert into cg_contract(cg_id,contract_name,cg_no,work_no,is_program,cgc_type,cg_department,department_cg_money,program_money,
			cg_contract_money,contract_name_jia,contract_name_yi,pay_mode,contract_sign_time,contract_summary,work_content) 
		values(#{cg.cgId},#{cg.contractName},#{cg.cgNo},#{cg.workNo},#{cg.isProgram},#{cg.cgcType},#{cg.cgDepartment},#{cg.departmentCgMoney},
			#{cg.programMoney},#{cg.cgContractMoney},#{cg.contractNameJia},#{cg.contractNameYi},#{cg.payMode},#{cg.contractSignTime},#{cg.contractSummary},#{cg.workContent})
	</insert>
	<delete id="deleteCgContractById">
		delete from cg_contract where cg_id=#{id}
	</delete>
	<update id="updateCgContractSave" parameterType="CgContract">
		update cg_contract
		set contract_name=#{cg.contractName},cg_no=#{cg.cgNo},work_no=#{cg.workNo},is_program=#{cg.isProgram},cgc_type=#{cg.cgcType},cg_department=#{cg.cgDepartment},department_cg_money=#{cg.departmentCgMoney},
			program_money=#{cg.programMoney},cg_contract_money=#{cg.cgContractMoney},contract_name_jia=#{cg.contractNameJia},contract_name_yi=#{cg.contractNameYi},pay_mode=#{cg.payMode},
			contract_sign_time=#{cg.contractSignTime},contract_summary=#{cg.contractSummary},work_content=#{cg.workContent}
		where cg_id=#{cg.cgId}
	</update>
	<select id="selectCgContractById" resultType="CgContract">
		select * from cg_contract where cg_id=#{id}
	</select>
</mapper>