<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="../../font2/iconfont.css">
	<link href="../../style/bootstrap.min.css" rel="stylesheet">
    <link href="../../style/style.css" rel="stylesheet">
    <link href="../../toastr/toastr.css" rel="stylesheet">
    <link rel="stylesheet" href="../../style/jquery.dataTables.min.css">
    <link rel="stylesheet" href="../../style/jquery-editable-select.css">
    <!-- SmartAdmin Styles : Caution! DO NOT change the order -->
    <link rel="stylesheet" type="text/css" media="screen" href="../../css/smartadmin-production-plugins.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="../../css/smartadmin-production.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="../../css/smartadmin-skins.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="../../css/font.css">
    <!-- SmartAdmin RTL Support  -->
    <link rel="stylesheet" type="text/css" media="screen" href="../../css/smartadmin-rtl.min.css">
    <style lang="">
        *{
            font-size: 16px;
        }
        .UpperPart{
            display: flex;
            justify-content:space-between;
            border-bottom: 1px solid #ccc;
            padding-bottom: 12px;
        }
        .selected{
            background: rgba(247, 161, 3,0.2);
        }
        #mainContent1 th,#mainContent2 th,#mainContent3 th,#mainContent4 th,#mainContent5 th{
            width:15%;
        }
    </style>
</head>
<body>
    
    <!-- 面包屑 -->
    <div class="mianbao">
    	<ul class="breadcrumb">
    		<li><i class="iconfont icon-knowledgebase"></i></li>
            <li>档案管理</li>
			<li class="active">科技文档资料</li>
		</ul>
    </div>

    <div class="zhuti-content">
        <div class="UpperPart">
            <div class="UpperPartL">
                
            </div>
            <div class="UpperPartR">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">新建</button>
            </div>
<!-- Modal -->
<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" id="myModal">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel"><b>新建</b></h4>
        </div>
        <div class="modal-body">
                <div>     
                    <form class="form-inline">
                        <table class="table table-bordered">
                            <tr>
                                <td>项目名称</td>
                                <td>
                                    <select class="form-control" id="prjName" style="width:180px;">
                                    </select>
                                </td>
                                <td>任务单号</td>
                                <td>
                                	<select class="form-control" id="prjNo" style="width:180px;">
                                    </select>
                                </td>
                            </tr>
                        </table> 
                        <table class="table table-bordered table-condensed" id="new_accessory1">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;">项目实际存档目录 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                                	<td colspan="4"><button type="button" class="btn btn-primary weui-uploader__input" onclick="addFile1()">添加附件</button></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="new_accessory2">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;">合同资料 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                                	<td colspan="4"><button type="button" class="btn btn-primary weui-uploader__input" onclick="addFile2()">添加附件</button></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="new_accessory3">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;">科研申请书 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                                	<td colspan="4"><button type="button" class="btn btn-primary weui-uploader__input" onclick="addFile3()">添加附件</button></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="new_accessory4">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;">工作大纲及评审记录 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                                	<td colspan="4"><button type="button" class="btn btn-primary weui-uploader__input" onclick="addFile4()">添加附件</button></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="new_accessory5">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;">中间报告及评审记录 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                                	<td colspan="4"><button type="button" class="btn btn-primary weui-uploader__input" onclick="addFile5()">添加附件</button></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="new_accessory6">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;">成果简介 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                                	<td colspan="4"><button type="button" class="btn btn-primary weui-uploader__input" onclick="addFile6()">添加附件</button></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="new_accessory7">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;">研究报告 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                                	<td colspan="4"><button type="button" class="btn btn-primary weui-uploader__input" onclick="addFile7()">添加附件</button></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="new_accessory8">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;">查新报告 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                                	<td colspan="4"><button type="button" class="btn btn-primary weui-uploader__input" onclick="addFile8()">添加附件</button></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="new_accessory9">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;">总结报告 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                                	<td colspan="4"><button type="button" class="btn btn-primary weui-uploader__input" onclick="addFile9()">添加附件</button></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="new_accessory10">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;">用户报告/应用证明 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                                	<td colspan="4"><button type="button" class="btn btn-primary weui-uploader__input" onclick="addFile10()">添加附件</button></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="new_accessory11">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;">鉴定(评审)证书/验收评审意见 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                                	<td colspan="4"><button type="button" class="btn btn-primary weui-uploader__input" onclick="addFile11()">添加附件</button></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="new_accessory12">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;">科研项目其他成果 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                                	<td colspan="4"><button type="button" class="btn btn-primary weui-uploader__input" onclick="addFile12()">添加附件</button></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="new_accessory13">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;">汇报PPT <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                                	<td colspan="4"><button type="button" class="btn btn-primary weui-uploader__input" onclick="addFile13()">添加附件</button></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="new_accessory14">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;">财务决算表<i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                                	<td colspan="4"><button type="button" class="btn btn-primary weui-uploader__input" onclick="addFile14()">添加附件</button></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="new_accessory15">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;">报奖文件 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                                	<td colspan="4"><button type="button" class="btn btn-primary weui-uploader__input" onclick="addFile15()">添加附件</button></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="new_accessory16">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;">相关论文及专利 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                                	<td colspan="4"><button type="button" class="btn btn-primary weui-uploader__input" onclick="addFile16()">添加附件</button></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="new_accessory17">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;">课题所用到图纸、模型和报告 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                                	<td colspan="4"><button type="button" class="btn btn-primary weui-uploader__input" onclick="addFile17()">添加附件</button></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="new_accessory18">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;">其它 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                                	<td colspan="4"><button type="button" class="btn btn-primary weui-uploader__input" onclick="addFile18()">添加附件</button></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                    </form>  
                </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            <button type="button" class="btn btn-default" onclick="save()">保存</button>
        </div>
        </div>
    </div>
</div>
<!-- model结束 -->

<!-- 修改Modal -->
<div class="modal fade bs-example-modal-lg" id="change" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel"><b>修改</b></h4>
        </div>
        <div class="modal-body">
                <div>     
                    <form class="form-inline">
                        <table class="table table-bordered">
                            <tr>
                                <td>项目名称</td>
                                <td>
                                    <select class="form-control" id="edit_prjName" style="width:180px;">
                                    </select>
                                </td>
                                <td>任务单号</td>
                                <td>
                                	<select class="form-control" id="edit_prjNo" style="width:180px;">
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>项目实际存档目录</td>
                                <td><input type="file" class="form-control"></td>
                                <td>合同资料</td>
                                <td><input type="file" class="form-control"></td>
                            </tr>
                            <tr>
                                <td>科研申请书</td>
                                <td><input type="file" class="form-control"></td>
                                <td>工作大纲及评审记录</td>
                                <td><input type="file" class="form-control"></td>
                            </tr>
                            <tr>
                                <td>中间报告及评审记录</td>
                                <td><input type="file" class="form-control"></td>
                                <td>成果简介</td>
                                <td><input type="file" class="form-control"></td>
                            </tr>
                            <tr>
                                <td>研究报告</td>
                                <td><input type="file" class="form-control"></td>
                                <td>查新报告</td>
                                <td><input type="file" class="form-control"></td>
                            </tr>
                            <tr>
                                <td>总结报告</td>
                                <td><input type="file" class="form-control"></td>
                                <td>用户报告/应用证明</td>
                                <td><input type="file" class="form-control"></td>
                            </tr>
                            <tr>
                                <td>鉴定(评审)证书/验收评审意见</td>
                                <td><input type="file" class="form-control"></td>
                                <td>科研项目其他成果</td>
                                <td><input type="file" class="form-control"></td>
                            </tr>
                            <tr>
                                <td>汇报PPT</td>
                                <td><input type="file" class="form-control"></td>
                                <td>财务决算表</td>
                                <td><input type="file" class="form-control"></td>
                            </tr>
                            <tr>
                                <td>报奖文件</td>
                                <td><input type="file" class="form-control"></td>
                                <td>相关论文及专利</td>
                                <td><input type="file" class="form-control"></td>
                            </tr>
                            <tr>
                                <td>课题所用到图纸、模型和报告</td>
                                <td><input type="file" class="form-control"></td>
                                <td>其它</td>
                                <td><input type="file" class="form-control"></td>
                            </tr>
                        </table> 
                    </form>  
                </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
            <button type="button" class="btn btn-default">保存</button>
        </div>
        </div>
    </div>
</div>
<!-- 修改model结束 -->

<!-- allMsg -->
<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" id="allMsg">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel"><b>所有信息</b></h4>
        </div>
        <div class="modal-body">
            <div>     
                <form class="form-inline">
                    <table class="table table-bordered">
                        <tr>
                            <td>项目名称</td>
                            <td id="lookprjName"></td>
                            <td>任务单号</td>
                            <td id="lookprjNo"></td>
                        </tr>
                        <!-- <tr>
                            <td>项目实际存档目录</td>
                            <td>gsdhsfjhsfjsf</td>
                            <td>合同资料</td>
                            <td>gsdhsfjhsfjsf</td>
                        </tr>
                        <tr>
                            <td>科研申请书</td>
                            <td>gsdhsfjhsfjsf</td>
                            <td>工作大纲及评审记录</td>
                            <td>gsdhsfjhsfjsf</td>
                        </tr>
                        <tr>
                            <td>中间报告及评审记录</td>
                            <td>gsdhsfjhsfjsf</td>
                            <td>成果简介</td>
                            <td>gsdhsfjhsfjsf</td>
                        </tr>
                        <tr>
                            <td>研究报告</td>
                            <td>gsdhsfjhsfjsf</td>
                            <td>查新报告</td>
                            <td>gsdhsfjhsfjsf</td>
                        </tr>
                        <tr>
                            <td>总结报告</td>
                            <td>gsdhsfjhsfjsf</td>
                            <td>用户报告/应用证明</td>
                            <td>gsdhsfjhsfjsf</td>
                        </tr>
                        <tr>
                            <td>鉴定(评审)证书/验收评审意见</td>
                            <td>gsdhsfjhsfjsf</td>
                            <td>科研项目其他成果</td>
                            <td>gsdhsfjhsfjsf</td>
                        </tr>
                        <tr>
                            <td>汇报PPT</td>
                            <td>gsdhsfjhsfjsf</td>
                            <td>财务决算表</td>
                            <td>gsdhsfjhsfjsf</td>
                        </tr>
                        <tr>
                            <td>报奖文件</td>
                            <td>gsdhsfjhsfjsf</td>
                            <td>相关论文及专利</td>
                            <td>gsdhsfjhsfjsf</td>
                        </tr>
                        <tr>
                            <td>课题所用到图纸、模型和报告</td>
                            <td>gsdhsfjhsfjsf</td>
                            <td>其它</td>
                            <td>gsdhsfjhsfjsf</td>
                        </tr> -->
                    </table>
                    <table class="table table-bordered table-condensed" id="look_accessory1">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;" colspan="5">项目实际存档目录 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="look_accessory2">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;" colspan="5">合同资料 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="look_accessory3">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;" colspan="5">科研申请书 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="look_accessory4">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;" colspan="5">工作大纲及评审记录 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="look_accessory5">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;" colspan="5">中间报告及评审记录 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="look_accessory6">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;" colspan="5">成果简介 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="look_accessory7">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;" colspan="5">研究报告 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="look_accessory8">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;" colspan="5">查新报告 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="look_accessory9">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;" colspan="5">总结报告 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="look_accessory10">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;" colspan="5">用户报告/应用证明 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="look_accessory11">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;" colspan="5">鉴定(评审)证书/验收评审意见 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="look_accessory12">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;" colspan="5">科研项目其他成果 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="look_accessory13">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;" colspan="5">汇报PPT <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="look_accessory14">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;" colspan="5">财务决算表<i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="look_accessory15">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;" colspan="5">报奖文件 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="look_accessory16">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;" colspan="5">相关论文及专利 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="look_accessory17">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;" colspan="5">课题所用到图纸、模型和报告 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                        <table class="table table-bordered table-condensed" id="look_accessory18">
                        	<thead>
                        		<tr>
                                	<td style="width:15%;" colspan="5">其它 <i class="iconfont icon-xingxing-copy" style="color:red;"></i></td>
                            	</tr>
                        	</thead>
                        	<tbody></tbody>
                        </table>
                </form> 
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
        </div>
        </div>
    </div>
</div>
<!-- allMsg结束 -->
        
        </div>
        <div class="LowerPart">
            <table class="table table-bordered table-condensed" id="mainContent">
                <thead>
                    <tr>
                        <th>项目名称</th>
                        <th>任务单号</th>
                        <th style="width:100px;">操作</th>
                    </tr>
                </thead>
                <tbody>
                    
                </tbody>   
            </table>
        </div>

        
    </div>
</body>
<script src="../../js/jquery.js"></script>
<script src="../../js/common-scripts.js"></script>
<script src="../../js/jquery.dataTables.min.js"></script>
<script src="../../js/bootstrap.min.js"></script>
<script src="../../js/jquery-form.min.js"></script>
<script src="../../toastr/toastr.js"></script>
<script src="../../js/jquery-editable-select.js"></script>
<script src="../../js/SmartNotification.min.js"></script>
<script src="../../js/myTool.js"></script>
<script>
    $(document).ready( function () {
    	initTable();
    	initSelectPrj();
	});
    var table=$('#mainContent').dataTable({
        "deferRender": true,
        "processing": true,
        "bDestroy": true,
        "iDisplayLength": 10,
        "searching": true,
        "lengthChange": false,
        "oLanguage": {
		    "sSearch": '<span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span>'
		},
		"columns": [
            { "data": "prjName"}, 
            { "data": "prjNo"}, 
        ],
        "columnDefs": [
						{	
								 "class": "tcenter",
								    "targets": 2,
								    "searchable": true,
								    "render": function(data, type, full) {
								  	  		/* return '<i class="iconfont icon-icon-test" style="font-size:20px;cursor:pointer;" title="查看详细信息" onclick="lookCd(this)" data-toggle="modal" data-target="#allMsg" id="lookDetall"></i>  <i class="iconfont icon-xiugai iconxiugai" style="font-size:18px;cursor:pointer;" title="修改" onclick="checkCd(this)" data-toggle="modal" data-target="#change" ></i> <i class="iconfont icon-shanchu" style="font-size:18px;cursor:pointer;"  title="删除" onclick="deleteCd(this)"  id="delyiji"></i> ' */
								    	return '<i class="iconfont icon-icon-test" style="font-size:20px;cursor:pointer;" title="查看详细信息" onclick="lookTd(this)" ></i>  <i class="iconfont icon-shanchu" style="font-size:18px;cursor:pointer;"  title="删除" onclick="deleteTd(this)"  id="delyiji"></i> '
								        }
								  }
						],
        "order": [[1, 'asc']],
        "oLanguage": { //国际化配置
        "sProcessing": "正在获取数据，请稍后...",
        "sLengthMenu": "显示 _MENU_ 条",
        "sZeroRecords": "查询不到相关数据",
        "sInfo": "从 _START_ 到  _END_ 条记录 总记录数为 _TOTAL_ 条",
        "sInfoEmpty": "记录数为0",
        "sInfoFiltered": "(全部记录数 _MAX_ 条)",
        "sInfoPostFix": "",
        "sSearch": "搜索",
        "sUrl": "",
        "oPaginate": {
            "sFirst": "第一页",
            "sPrevious": "上一页",
            "sNext": "下一页",
            "sLast": "最后一页"
        }},
        
	});
	function initTable(){
        $.ajax({
            type: 'POST',
            url: getContextPath()+'/TechnicalDocumentation/selectTechnicalDocumentation',
            dataType: 'json',
            data: {
            },
            success: function (json) {
                $('#mainContent').dataTable().fnClearTable();
                $('#mainContent').DataTable().rows.add(json).draw(false);
            }
        });
    }

    
	
	//初始化项目名称和任务单号
    function initSelectPrj(){
		$.ajax({
	        type: 'POST',
	        url: getContextPath()+'/task/selectPrjAndNo',
	        dataType: 'json',
	        data: {
	        },
	        error: function (msg) {
	        	toastr.error("请求失败");
	        },
	        success: function (json) {
	        	$("#prjName").html('');
	        	$("#prjNo").html('');
	        	$("#edit_prjName").html('');
	        	$("#edit_prjNo").html('');
	        	for(var i=0;i<json.length;i++){
	        		$("#prjName").append("<option value="+json[i].prjName+">"+json[i].prjName+"</option>");
	        		$("#prjNo").append("<option value="+json[i].prjNo+">"+json[i].prjNo+"</option>");
	        		$("#edit_prjName").append("<option value="+json[i].prjName+">"+json[i].prjName+"</option>");
	        		$("#edit_prjNo").append("<option value="+json[i].prjNo+">"+json[i].prjNo+"</option>");
	        	}
	        	 $('#prjNo').editableSelect().on('select.editable-select', function (e, dom) {
	        		$.ajax({
	                    type: 'POST',
	                    url: getContextPath()+'/task/selectTaskPrjName',
	                    dataType: 'json',
	                    data: {
	                    	prjNo:$('#prjNo').val()
	                    },
	                    success: function (json) {
	                    	for(var i=0;i<json.length;i++){
	                    		$("#prjName").val(json[i].prjName)
	                    	}
	                    }
	          		});
	          	})
	          	$('#prjName').editableSelect().on('select.editable-select', function (e, dom) {
	        		$.ajax({
	                    type: 'POST',
	                    url: getContextPath()+'/task/selectTaskPrjNo',
	                    dataType: 'json',
	                    data: {
	                    	prjName:$('#prjName').val()
	                    },
	                    success: function (json) {
	                    	for(var i=0;i<json.length;i++){
	                    		$("#prjNo").val(json[i].prjNo)
	                    	}
	                    }
	          		});
	          	}) 
	          	 $('#edit_prjNo').editableSelect().on('select.editable-select', function (e, dom) {
	        		$.ajax({
	                    type: 'POST',
	                    url: getContextPath()+'/task/selectTaskPrjName',
	                    dataType: 'json',
	                    data: {
	                    	prjNo:$('#edit_prjNo').val()
	                    },
	                    success: function (json) {
	                    	for(var i=0;i<json.length;i++){
	                    		$("#edit_prjName").val(json[i].prjName)
	                    	}
	                    }
	          		});
	          	})
	          	$('#edit_prjName').editableSelect().on('select.editable-select', function (e, dom) {
	        		$.ajax({
	                    type: 'POST',
	                    url: getContextPath()+'/task/selectTaskPrjNo',
	                    dataType: 'json',
	                    data: {
	                    	prjName:$('#edit_prjName').val()
	                    },
	                    success: function (json) {
	                    	for(var i=0;i<json.length;i++){
	                    		$("#edit_prjNo").val(json[i].prjNo)
	                    	}
	                    }
	          		});
	          	}) 
	          	 
	        }
		});
	}
	
	
	//保存
	function save(){
		var acc1=new Array();
		$("#new_accessory1 tbody").find("tr").each(function(){
			var desc=$(this).find("td").eq(3).find("input").val();
			var arr1={
					aId:null,
					acName:undefined,
					acUrl:undefined,
					aType:undefined,
					aDesc:undefined,
			}
			arr1.aDesc=desc;
			acc1.push(arr1)
  		})
  		var acc2=new Array();
		$("#new_accessory2 tbody").find("tr").each(function(){
			var desc=$(this).find("td").eq(3).find("input").val();
			var arr2={
					aId:null,
					acName:undefined,
					acUrl:undefined,
					aType:undefined,
					aDesc:undefined,
			}
			arr2.aDesc=desc;
			acc2.push(arr2)
  		})
  		var acc3=new Array();
		$("#new_accessory3 tbody").find("tr").each(function(){
			var desc=$(this).find("td").eq(3).find("input").val();
			var arr3={
					aId:null,
					acName:undefined,
					acUrl:undefined,
					aType:undefined,
					aDesc:undefined,
			}
			arr3.aDesc=desc;
			acc3.push(arr3)
  		})
  		var acc4=new Array();
		$("#new_accessory4 tbody").find("tr").each(function(){
			var desc=$(this).find("td").eq(3).find("input").val();
			var arr4={
					aId:null,
					acName:undefined,
					acUrl:undefined,
					aType:undefined,
					aDesc:undefined,
			}
			arr4.aDesc=desc;
			acc4.push(arr4)
  		})
  		var acc5=new Array();
		$("#new_accessory5 tbody").find("tr").each(function(){
			var desc=$(this).find("td").eq(3).find("input").val();
			var arr5={
					aId:null,
					acName:undefined,
					acUrl:undefined,
					aType:undefined,
					aDesc:undefined,
			}
			arr5.aDesc=desc;
			acc5.push(arr5)
  		})
  		var acc6=new Array();
		$("#new_accessory6 tbody").find("tr").each(function(){
			var desc=$(this).find("td").eq(3).find("input").val();
			var arr6={
					aId:null,
					acName:undefined,
					acUrl:undefined,
					aType:undefined,
					aDesc:undefined,
			}
			arr6.aDesc=desc;
			acc6.push(arr6)
  		})
  		var acc7=new Array();
		$("#new_accessory7 tbody").find("tr").each(function(){
			var desc=$(this).find("td").eq(3).find("input").val();
			var arr7={
					aId:null,
					acName:undefined,
					acUrl:undefined,
					aType:undefined,
					aDesc:undefined,
			}
			arr7.aDesc=desc;
			acc7.push(arr7)
  		})
  		var acc8=new Array();
		$("#new_accessory8 tbody").find("tr").each(function(){
			var desc=$(this).find("td").eq(3).find("input").val();
			var arr8={
					aId:null,
					acName:undefined,
					acUrl:undefined,
					aType:undefined,
					aDesc:undefined,
			}
			arr8.aDesc=desc;
			acc8.push(arr8)
  		})
  		var acc9=new Array();
		$("#new_accessory9 tbody").find("tr").each(function(){
			var desc=$(this).find("td").eq(3).find("input").val();
			var arr9={
					aId:null,
					acName:undefined,
					acUrl:undefined,
					aType:undefined,
					aDesc:undefined,
			}
			arr9.aDesc=desc;
			acc9.push(arr9)
  		})
  		var acc10=new Array();
		$("#new_accessory10 tbody").find("tr").each(function(){
			var desc=$(this).find("td").eq(3).find("input").val();
			var arr10={
					aId:null,
					acName:undefined,
					acUrl:undefined,
					aType:undefined,
					aDesc:undefined,
			}
			arr10.aDesc=desc;
			acc10.push(arr10)
  		})
  		var acc11=new Array();
		$("#new_accessory11 tbody").find("tr").each(function(){
			var desc=$(this).find("td").eq(3).find("input").val();
			var arr11={
					aId:null,
					acName:undefined,
					acUrl:undefined,
					aType:undefined,
					aDesc:undefined,
			}
			arr11.aDesc=desc;
			acc11.push(arr11)
  		})
  		var acc12=new Array();
		$("#new_accessory12 tbody").find("tr").each(function(){
			var desc=$(this).find("td").eq(3).find("input").val();
			var arr12={
					aId:null,
					acName:undefined,
					acUrl:undefined,
					aType:undefined,
					aDesc:undefined,
			}
			arr12.aDesc=desc;
			acc12.push(arr12)
  		})
  		var acc13=new Array();
		$("#new_accessory13 tbody").find("tr").each(function(){
			var desc=$(this).find("td").eq(3).find("input").val();
			var arr13={
					aId:null,
					acName:undefined,
					acUrl:undefined,
					aType:undefined,
					aDesc:undefined,
			}
			arr13.aDesc=desc;
			acc13.push(arr13)
  		})
  		var acc14=new Array();
		$("#new_accessory14 tbody").find("tr").each(function(){
			var desc=$(this).find("td").eq(3).find("input").val();
			var arr14={
					aId:null,
					acName:undefined,
					acUrl:undefined,
					aType:undefined,
					aDesc:undefined,
			}
			arr14.aDesc=desc;
			acc14.push(arr14)
  		})
  		var acc15=new Array();
		$("#new_accessory15 tbody").find("tr").each(function(){
			var desc=$(this).find("td").eq(3).find("input").val();
			var arr15={
					aId:null,
					acName:undefined,
					acUrl:undefined,
					aType:undefined,
					aDesc:undefined,
			}
			arr15.aDesc=desc;
			acc15.push(arr15)
  		}) 
  		var acc16=new Array();
		$("#new_accessory16 tbody").find("tr").each(function(){
			var desc=$(this).find("td").eq(3).find("input").val();
			var arr16={
					aId:null,
					acName:undefined,
					acUrl:undefined,
					aType:undefined,
					aDesc:undefined,
			}
			arr16.aDesc=desc;
			acc16.push(arr16)
  		})
  		var acc17=new Array();
		$("#new_accessory17 tbody").find("tr").each(function(){
			var desc=$(this).find("td").eq(3).find("input").val();
			var arr17={
					aId:null,
					acName:undefined,
					acUrl:undefined,
					aType:undefined,
					aDesc:undefined,
			}
			arr17.aDesc=desc;
			acc17.push(arr17)
  		})
  		var acc18=new Array();
		$("#new_accessory18 tbody").find("tr").each(function(){
			var desc=$(this).find("td").eq(3).find("input").val();
			var arr18={
					aId:null,
					acName:undefined,
					acUrl:undefined,
					aType:undefined,
					aDesc:undefined,
			}
			arr18.aDesc=desc;
			acc18.push(arr18)
  		})
  		
  		var prjName=$("#prjName").val();
		var prjNo=$("#prjNo").val();
		if(prjName==''){
			toastr.error("项目名不能为空")
			return;
		}
		if($("#new_accessory1").find('tbody tr').length<1 || $("#file1").val()==''){
			toastr.error("项目实际存档目录为空")
			return;
		}
		if($("#new_accessory2").find('tbody tr').length<1 || $("#file2").val()==''){
			toastr.error("合同资料为空")
			return;
		}
  		
		var tds={
				tdId:null,
				prjName:undefined,
				prjNo:undefined,
				accessory1:undefined,
				accessory2:undefined,
				accessory3:undefined,
				accessory4:undefined,
				accessory5:undefined,
				accessory6:undefined,
				accessory7:undefined,
				accessory8:undefined,
				accessory9:undefined,
				accessory10:undefined,
				accessory11:undefined,
				accessory12:undefined,
				accessory13:undefined,
				accessory14:undefined,
				accessory15:undefined,
				accessory16:undefined,
				accessory17:undefined,
				accessory18:undefined,
		}
		tds.tdId=null;
		tds.prjName=prjName;
		tds.prjNo=prjNo;
		tds.accessory1=acc1;
		tds.accessory2=acc2;
		tds.accessory3=acc3;
		tds.accessory4=acc4;
		tds.accessory5=acc5;
		tds.accessory6=acc6;
		tds.accessory7=acc7;
		tds.accessory8=acc8;
		tds.accessory9=acc9;
		tds.accessory10=acc10;
		tds.accessory11=acc11;
		tds.accessory12=acc12;
		tds.accessory13=acc13;
		tds.accessory14=acc14;
		tds.accessory15=acc15;
		tds.accessory16=acc16;
		tds.accessory17=acc17;
		tds.accessory18=acc18;
		//console.log(tds)
		var formData = new FormData()
  		formData.append("tds", JSON.stringify(tds));
		
		$("#new_accessory1 tbody").find("tr").each(function(){
	  		formData.append("file1", $(this).find(":file")[0].files[0]);
  		})
  		$("#new_accessory2 tbody").find("tr").each(function(){
  			formData.append("file2", $(this).find(":file")[0].files[0]);
  		})
  		$("#new_accessory3 tbody").find("tr").each(function(){
  			formData.append("file3", $(this).find(":file")[0].files[0]);
  		})
  		$("#new_accessory4 tbody").find("tr").each(function(){
  			formData.append("file4", $(this).find(":file")[0].files[0]);
  		})
  		$("#new_accessory5 tbody").find("tr").each(function(){
  			formData.append("file5", $(this).find(":file")[0].files[0]);
  		})
  		$("#new_accessory6 tbody").find("tr").each(function(){
  			formData.append("file6", $(this).find(":file")[0].files[0]);
  		})
  		$("#new_accessory7 tbody").find("tr").each(function(){
	  		formData.append("file7", $(this).find(":file")[0].files[0]);
  		})
  		$("#new_accessory8 tbody").find("tr").each(function(){
  			formData.append("file8", $(this).find(":file")[0].files[0]);
  		})
  		$("#new_accessory9 tbody").find("tr").each(function(){
  			formData.append("file9", $(this).find(":file")[0].files[0]);
  		})
  		$("#new_accessory10 tbody").find("tr").each(function(){
  			formData.append("file10", $(this).find(":file")[0].files[0]);
  		})
  		$("#new_accessory11 tbody").find("tr").each(function(){
  			formData.append("file11", $(this).find(":file")[0].files[0]);
  		})
  		$("#new_accessory12 tbody").find("tr").each(function(){
  			formData.append("file12", $(this).find(":file")[0].files[0]);
  		})
  		$("#new_accessory13 tbody").find("tr").each(function(){
  			formData.append("file13", $(this).find(":file")[0].files[0]);
  		})
  		$("#new_accessory14 tbody").find("tr").each(function(){
  			formData.append("file14", $(this).find(":file")[0].files[0]);
  		})
  		$("#new_accessory15 tbody").find("tr").each(function(){
  			formData.append("file15", $(this).find(":file")[0].files[0]);
  		})
  		$("#new_accessory16 tbody").find("tr").each(function(){
  			formData.append("file16", $(this).find(":file")[0].files[0]);
  		})
  		$("#new_accessory17 tbody").find("tr").each(function(){
  			formData.append("file17", $(this).find(":file")[0].files[0]);
  		})
  		$("#new_accessory18 tbody").find("tr").each(function(){
  			formData.append("file18", $(this).find(":file")[0].files[0]);
  		})
  		
  		$.ajax({
	  			type: 'POST',
	            url: getContextPath()+'/TechnicalDocumentation/addTechnicalDocumentationSave',
	            data: formData,  
	            processData: false,
	            contentType: false,
	            success: function (json) {
	            	if(json.result>0){
	            		$("#myModal").modal("hide");
	            		toastr.success("保存成功")
	            		$('#mainContent').DataTable().row.add(json.TechnicalDocumentation).draw(false);     //新增行立即显示
	            	}else{
	            		toastr.error("保存失败")
	            	}
	            }
	  		})
  		
	}
	
	
	function lookTd(obj){
		showMask();
		var dom=$(obj).parents("tr");
		var data=$("#mainContent").DataTable().row(dom).data();
		//console.log(data)
		$("#lookprjName").text(data.prjName);
		$("#lookprjNo").text(data.prjNo);
		
		$.ajax({
			type:"POST",
			url:getContextPath()+"/accessory/selectAccessoryById",
			dataType:"json",
			data:{ 
				id:data.tdId
				},
			success:function(json){
				//console.log(json)
				$("#look_accessory1 tbody").empty();
				$("#look_accessory2 tbody").empty();
				$("#look_accessory3 tbody").empty();
				$("#look_accessory4 tbody").empty();
				$("#look_accessory5 tbody").empty();
				$("#look_accessory6 tbody").empty();
				$("#look_accessory7 tbody").empty();
				$("#look_accessory8 tbody").empty();
				$("#look_accessory9 tbody").empty();
				$("#look_accessory10 tbody").empty();
				$("#look_accessory11 tbody").empty();
				$("#look_accessory12 tbody").empty();
				$("#look_accessory13 tbody").empty();
				$("#look_accessory14 tbody").empty();
				$("#look_accessory15 tbody").empty();
				$("#look_accessory16 tbody").empty();
				$("#look_accessory17 tbody").empty();
				$("#look_accessory18 tbody").empty();
	            for(var i=0;i<json.length;i++){
	            	if(json[i].aType=="项目实际存档目录"){
		            	   $("#look_accessory1 tbody").append("<tr>"+
				     	   									"<td style='width:15%;'>附件</td>"+
									            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+json[i].acName+"' disabled></td>"+
									            	    	"<td>附件说明</td>"+
									            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+(json[i].aDesc==null||json[i].aDesc==''?'无':json[i].aDesc)+"' disabled></td>"+
									            	    	"<td><button type='button' class='btn btn-primary' data1='"+json[i].acUrl+"' onclick='download_all(this)'>下载附件</button></td>"+
									            	    "</tr>");
		            	}
		            	if(json[i].aType=="合同资料"){
			            	   $("#look_accessory2 tbody").append("<tr>"+
					     	   									"<td style='width:15%;'>附件</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+json[i].acName+"' disabled></td>"+
										            	    	"<td>附件说明</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+(json[i].aDesc==null||json[i].aDesc==''?'无':json[i].aDesc)+"' disabled></td>"+
										            	    	"<td><button type='button' class='btn btn-primary' data1='"+json[i].acUrl+"' onclick='download_all(this)'>下载附件</button></td>"+
										            	    "</tr>");
			            }
		            	if(json[i].aType=="科研申请书"){
			            	   $("#look_accessory3 tbody").append("<tr>"+
					     	   									"<td style='width:15%;'>附件</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+json[i].acName+"' disabled></td>"+
										            	    	"<td>附件说明</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+(json[i].aDesc==null||json[i].aDesc==''?'无':json[i].aDesc)+"' disabled></td>"+
										            	    	"<td><button type='button' class='btn btn-primary' data1='"+json[i].acUrl+"' onclick='download_all(this)'>下载附件</button></td>"+
										            	    "</tr>");
			            }
		            	if(json[i].aType=="工作大纲及评审记录"){
			            	   $("#look_accessory4 tbody").append("<tr>"+
					     	   									"<td style='width:15%;'>附件</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+json[i].acName+"' disabled></td>"+
										            	    	"<td>附件说明</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+(json[i].aDesc==null||json[i].aDesc==''?'无':json[i].aDesc)+"' disabled></td>"+
										            	    	"<td><button type='button' class='btn btn-primary' data1='"+json[i].acUrl+"' onclick='download_all(this)'>下载附件</button></td>"+
										            	    "</tr>");
			            }
		            	if(json[i].aType=="中间报告及评审记录"){
			            	   $("#look_accessory5 tbody").append("<tr>"+
					     	   									"<td style='width:15%;'>附件</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+json[i].acName+"' disabled></td>"+
										            	    	"<td>附件说明</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+(json[i].aDesc==null||json[i].aDesc==''?'无':json[i].aDesc)+"' disabled></td>"+
										            	    	"<td><button type='button' class='btn btn-primary' data1='"+json[i].acUrl+"' onclick='download_all(this)'>下载附件</button></td>"+
										            	    "</tr>");
			            }
		            	if(json[i].aType=="成果简介"){
			            	   $("#look_accessory6 tbody").append("<tr>"+
					     	   									"<td style='width:15%;'>附件</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+json[i].acName+"' disabled></td>"+
										            	    	"<td>附件说明</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+(json[i].aDesc==null||json[i].aDesc==''?'无':json[i].aDesc)+"' disabled></td>"+
										            	    	"<td><button type='button' class='btn btn-primary' data1='"+json[i].acUrl+"' onclick='download_all(this)'>下载附件</button></td>"+
										            	    "</tr>");
			            }
		            	if(json[i].aType=="研究报告"){
			            	   $("#look_accessory7 tbody").append("<tr>"+
					     	   									"<td style='width:15%;'>附件</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+json[i].acName+"' disabled></td>"+
										            	    	"<td>附件说明</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+(json[i].aDesc==null||json[i].aDesc==''?'无':json[i].aDesc)+"' disabled></td>"+
										            	    	"<td><button type='button' class='btn btn-primary' data1='"+json[i].acUrl+"' onclick='download_all(this)'>下载附件</button></td>"+
										            	    "</tr>");
			            }
		            	if(json[i].aType=="查新报告"){
			            	   $("#look_accessory8 tbody").append("<tr>"+
					     	   									"<td style='width:15%;'>附件</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+json[i].acName+"' disabled></td>"+
										            	    	"<td>附件说明</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+(json[i].aDesc==null||json[i].aDesc==''?'无':json[i].aDesc)+"' disabled></td>"+
										            	    	"<td><button type='button' class='btn btn-primary' data1='"+json[i].acUrl+"' onclick='download_all(this)'>下载附件</button></td>"+
										            	    "</tr>");
			            }
		            	if(json[i].aType=="总结报告"){
			            	   $("#look_accessory9 tbody").append("<tr>"+
					     	   									"<td style='width:15%;'>附件</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+json[i].acName+"' disabled></td>"+
										            	    	"<td>附件说明</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+(json[i].aDesc==null||json[i].aDesc==''?'无':json[i].aDesc)+"' disabled></td>"+
										            	    	"<td><button type='button' class='btn btn-primary' data1='"+json[i].acUrl+"' onclick='download_all(this)'>下载附件</button></td>"+
										            	    "</tr>");
			            }
		            	if(json[i].aType=="用户报告/应用证明"){
			            	   $("#look_accessory10 tbody").append("<tr>"+
					     	   									"<td style='width:15%;'>附件</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+json[i].acName+"' disabled></td>"+
										            	    	"<td>附件说明</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+(json[i].aDesc==null||json[i].aDesc==''?'无':json[i].aDesc)+"' disabled></td>"+
										            	    	"<td><button type='button' class='btn btn-primary' data1='"+json[i].acUrl+"' onclick='download_all(this)'>下载附件</button></td>"+
										            	    "</tr>");
			            }
		            	if(json[i].aType=="鉴定(评审)证书/验收评审意见"){
			            	   $("#look_accessory11 tbody").append("<tr>"+
					     	   									"<td style='width:15%;'>附件</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+json[i].acName+"' disabled></td>"+
										            	    	"<td>附件说明</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+(json[i].aDesc==null||json[i].aDesc==''?'无':json[i].aDesc)+"' disabled></td>"+
										            	    	"<td><button type='button' class='btn btn-primary' data1='"+json[i].acUrl+"' onclick='download_all(this)'>下载附件</button></td>"+
										            	    "</tr>");
			            }
		            	if(json[i].aType=="科研项目其他成果"){
			            	   $("#look_accessory12 tbody").append("<tr>"+
					     	   									"<td style='width:15%;'>附件</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+json[i].acName+"' disabled></td>"+
										            	    	"<td>附件说明</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+(json[i].aDesc==null||json[i].aDesc==''?'无':json[i].aDesc)+"' disabled></td>"+
										            	    	"<td><button type='button' class='btn btn-primary' data1='"+json[i].acUrl+"' onclick='download_all(this)'>下载附件</button></td>"+
										            	    "</tr>");
			            }
		            	if(json[i].aType=="汇报PPT"){
			            	   $("#look_accessory13 tbody").append("<tr>"+
					     	   									"<td style='width:15%;'>附件</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+json[i].acName+"' disabled></td>"+
										            	    	"<td>附件说明</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+(json[i].aDesc==null||json[i].aDesc==''?'无':json[i].aDesc)+"' disabled></td>"+
										            	    	"<td><button type='button' class='btn btn-primary' data1='"+json[i].acUrl+"' onclick='download_all(this)'>下载附件</button></td>"+
										            	    "</tr>");
			            }
		            	if(json[i].aType=="财务决算表"){
			            	   $("#look_accessory14 tbody").append("<tr>"+
					     	   									"<td style='width:15%;'>附件</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+json[i].acName+"' disabled></td>"+
										            	    	"<td>附件说明</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+(json[i].aDesc==null||json[i].aDesc==''?'无':json[i].aDesc)+"' disabled></td>"+
										            	    	"<td><button type='button' class='btn btn-primary' data1='"+json[i].acUrl+"' onclick='download_all(this)'>下载附件</button></td>"+
										            	    "</tr>");
			            }
		            	if(json[i].aType=="报奖文件"){
			            	   $("#look_accessory15 tbody").append("<tr>"+
					     	   									"<td style='width:15%;'>附件</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+json[i].acName+"' disabled></td>"+
										            	    	"<td>附件说明</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+(json[i].aDesc==null||json[i].aDesc==''?'无':json[i].aDesc)+"' disabled></td>"+
										            	    	"<td><button type='button' class='btn btn-primary' data1='"+json[i].acUrl+"' onclick='download_all(this)'>下载附件</button></td>"+
										            	    "</tr>");
			            }
		            	if(json[i].aType=="相关论文及专利"){
			            	   $("#look_accessory16 tbody").append("<tr>"+
					     	   									"<td style='width:15%;'>附件</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+json[i].acName+"' disabled></td>"+
										            	    	"<td>附件说明</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+(json[i].aDesc==null||json[i].aDesc==''?'无':json[i].aDesc)+"' disabled></td>"+
										            	    	"<td><button type='button' class='btn btn-primary' data1='"+json[i].acUrl+"' onclick='download_all(this)'>下载附件</button></td>"+
										            	    "</tr>");
			            }
		            	if(json[i].aType=="课题所用到图纸、模型和报告"){
			            	   $("#look_accessory17 tbody").append("<tr>"+
					     	   									"<td style='width:15%;'>附件</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+json[i].acName+"' disabled></td>"+
										            	    	"<td>附件说明</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+(json[i].aDesc==null||json[i].aDesc==''?'无':json[i].aDesc)+"' disabled></td>"+
										            	    	"<td><button type='button' class='btn btn-primary' data1='"+json[i].acUrl+"' onclick='download_all(this)'>下载附件</button></td>"+
										            	    "</tr>");
			            }
		            	if(json[i].aType=="其它"){
			            	   $("#look_accessory18 tbody").append("<tr>"+
					     	   									"<td style='width:15%;'>附件</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+json[i].acName+"' disabled></td>"+
										            	    	"<td>附件说明</td>"+
										            	    	"<td><input type='text' style='width:80%;' class='form-control' value='"+(json[i].aDesc==null||json[i].aDesc==''?'无':json[i].aDesc)+"' disabled></td>"+
										            	    	"<td><button type='button' class='btn btn-primary' data1='"+json[i].acUrl+"' onclick='download_all(this)'>下载附件</button></td>"+
										            	    "</tr>");
			            }
		            	hidMask();
		            	$("#allMsg").modal("show");
	            } 
			}
		})
	}
	//下载附件
	function download_all(obj){
		var url=$(obj).attr("data1");
		var name=$(obj).parents("tr").find("td").eq(1).find("input").val();
		window.location.href=encodeURI(getContextPath()+"/FileDownLoad?fileName="+name+"&filePath="+url);
	}
	
	
	
	//删除
	function deleteTd(obj){
		$.SmartMessageBox({
            title: "删除提示",
            content: "确认删除？",
            buttons: '[取消][确定]'
        }, function (ButtonPressed) {
        	if (ButtonPressed === "确定") {
        		myTool.mask.show('删除中...');
            	var dom=$(obj).parents("tr");
        		var data=$("#mainContent").DataTable().row(dom).data();
        		$.ajax({
        			type:"POST",
        			url:getContextPath()+"/TechnicalDocumentation/deleteTechnicalDocumentation",
        			dataType:"json",
        			data:{ 
        				id:data.tdId
        				},
        			success:function(json){
        				myTool.mask.hide();
        				if(json>0){
        					toastr.success("删除成功")
        					$('#mainContent').DataTable().row(dom).remove().draw(true); //删除行立即显示
        				}else{
        					toastr.error("删除失败")
        				}
        			}
        		})
        	}
        });
	}
	
	
	
	
	
	function addFile1(){
		$("#new_accessory1 tbody").append("<tr><td>新附件</td><td style='width:40%;'><input style='width:80%;' type='file'  name='file1' id='file1' class='form-control'></td><td>附件说明</td><td><input style='width:80%;' type='text' class='form-control'></td><td ><button type='button' class='btn btn-primary' onclick='removeFile(this)'>移除</button></td></tr>")
	}
	function addFile2(){
		$("#new_accessory2 tbody").append("<tr><td>新附件</td><td style='width:40%;'><input style='width:80%;' type='file'  name='file2' id='file2' class='form-control'></td><td>附件说明</td><td><input style='width:80%;' type='text' class='form-control'></td><td ><button type='button' class='btn btn-primary' onclick='removeFile(this)'>移除</button></td></tr>")
	}
	function addFile3(){
		$("#new_accessory3 tbody").append("<tr><td>新附件</td><td style='width:40%;'><input style='width:80%;' type='file'  name='file3' id='file3' class='form-control'></td><td>附件说明</td><td><input style='width:80%;' type='text' class='form-control'></td><td ><button type='button' class='btn btn-primary' onclick='removeFile(this)'>移除</button></td></tr>")
	}
	function addFile4(){
		$("#new_accessory4 tbody").append("<tr><td>新附件</td><td style='width:40%;'><input style='width:80%;' type='file'  name='file4' id='file4' class='form-control'></td><td>附件说明</td><td><input style='width:80%;' type='text' class='form-control'></td><td ><button type='button' class='btn btn-primary' onclick='removeFile(this)'>移除</button></td></tr>")
	}
	function addFile5(){
		$("#new_accessory5 tbody").append("<tr><td>新附件</td><td style='width:40%;'><input style='width:80%;' type='file'  name='file5' id='file5' class='form-control'></td><td>附件说明</td><td><input style='width:80%;' type='text' class='form-control'></td><td ><button type='button' class='btn btn-primary' onclick='removeFile(this)'>移除</button></td></tr>")
	}
	function addFile6(){
		$("#new_accessory6 tbody").append("<tr><td>新附件</td><td style='width:40%;'><input style='width:80%;' type='file'  name='file6' id='file6' class='form-control'></td><td>附件说明</td><td><input style='width:80%;' type='text' class='form-control'></td><td ><button type='button' class='btn btn-primary' onclick='removeFile(this)'>移除</button></td></tr>")
	}
	function addFile7(){
		$("#new_accessory7 tbody").append("<tr><td>新附件</td><td style='width:40%;'><input style='width:80%;' type='file'  name='file7' id='file7' class='form-control'></td><td>附件说明</td><td><input style='width:80%;' type='text' class='form-control'></td><td ><button type='button' class='btn btn-primary' onclick='removeFile(this)'>移除</button></td></tr>")
	}
	function addFile8(){
		$("#new_accessory8 tbody").append("<tr><td>新附件</td><td style='width:40%;'><input style='width:80%;' type='file'  name='file8' id='file8' class='form-control'></td><td>附件说明</td><td><input style='width:80%;' type='text' class='form-control'></td><td ><button type='button' class='btn btn-primary' onclick='removeFile(this)'>移除</button></td></tr>")
	}
	function addFile9(){
		$("#new_accessory9 tbody").append("<tr><td>新附件</td><td style='width:40%;'><input style='width:80%;' type='file'  name='file9' id='file9' class='form-control'></td><td>附件说明</td><td><input style='width:80%;' type='text' class='form-control'></td><td ><button type='button' class='btn btn-primary' onclick='removeFile(this)'>移除</button></td></tr>")
	}
	function addFile10(){
		$("#new_accessory10 tbody").append("<tr><td>新附件</td><td style='width:40%;'><input style='width:80%;' type='file'  name='file10' id='file10' class='form-control'></td><td>附件说明</td><td><input style='width:80%;' type='text' class='form-control'></td><td ><button type='button' class='btn btn-primary' onclick='removeFile(this)'>移除</button></td></tr>")
	}
	function addFile11(){
		$("#new_accessory11 tbody").append("<tr><td>新附件</td><td style='width:40%;'><input style='width:80%;' type='file'  name='file11' id='file11' class='form-control'></td><td>附件说明</td><td><input style='width:80%;' type='text' class='form-control'></td><td ><button type='button' class='btn btn-primary' onclick='removeFile(this)'>移除</button></td></tr>")
	}
	function addFile12(){
		$("#new_accessory12 tbody").append("<tr><td>新附件</td><td style='width:40%;'><input style='width:80%;' type='file'  name='file12' id='file12' class='form-control'></td><td>附件说明</td><td><input style='width:80%;' type='text' class='form-control'></td><td ><button type='button' class='btn btn-primary' onclick='removeFile(this)'>移除</button></td></tr>")
	}
	function addFile13(){
		$("#new_accessory13 tbody").append("<tr><td>新附件</td><td style='width:40%;'><input style='width:80%;' type='file'  name='file13' id='file13' class='form-control'></td><td>附件说明</td><td><input style='width:80%;' type='text' class='form-control'></td><td ><button type='button' class='btn btn-primary' onclick='removeFile(this)'>移除</button></td></tr>")
	}
	function addFile14(){
		$("#new_accessory14 tbody").append("<tr><td>新附件</td><td style='width:40%;'><input style='width:80%;' type='file'  name='file14' id='file14' class='form-control'></td><td>附件说明</td><td><input style='width:80%;' type='text' class='form-control'></td><td ><button type='button' class='btn btn-primary' onclick='removeFile(this)'>移除</button></td></tr>")
	}
	function addFile15(){
		$("#new_accessory15 tbody").append("<tr><td>新附件</td><td style='width:40%;'><input style='width:80%;' type='file'  name='file15' id='file15' class='form-control'></td><td>附件说明</td><td><input style='width:80%;' type='text' class='form-control'></td><td ><button type='button' class='btn btn-primary' onclick='removeFile(this)'>移除</button></td></tr>")
	}
	function addFile16(){
		$("#new_accessory16 tbody").append("<tr><td>新附件</td><td style='width:40%;'><input style='width:80%;' type='file'  name='file16' id='file16' class='form-control'></td><td>附件说明</td><td><input style='width:80%;' type='text' class='form-control'></td><td ><button type='button' class='btn btn-primary' onclick='removeFile(this)'>移除</button></td></tr>")
	}
	function addFile17(){
		$("#new_accessory17 tbody").append("<tr><td>新附件</td><td style='width:40%;'><input style='width:80%;' type='file'  name='file17' id='file17' class='form-control'></td><td>附件说明</td><td><input style='width:80%;' type='text' class='form-control'></td><td ><button type='button' class='btn btn-primary' onclick='removeFile(this)'>移除</button></td></tr>")
	}
	function addFile18(){
		$("#new_accessory18 tbody").append("<tr><td>新附件</td><td style='width:40%;'><input style='width:80%;' type='file'  name='file18' id='file18' class='form-control'></td><td>附件说明</td><td><input style='width:80%;' type='text' class='form-control'></td><td ><button type='button' class='btn btn-primary' onclick='removeFile(this)'>移除</button></td></tr>")
	}
	
	function removeFile(obj){
		var tr=$(obj).parents("tr");
		$(tr).remove();
	}

	
	 function showMask() {
	    	myTool.mask.show('查询中...');
	 }
	 function hidMask() {
	 	myTool.mask.hide();
	 }
	
</script>
</html>